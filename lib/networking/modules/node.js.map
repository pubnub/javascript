{"version":3,"sources":["networking/modules/node.js"],"names":["proxy","keepAlive","keepAliveAgent","keepAliveSecureAgent","superagent","superagentConstruct","_config","agent","secure","AgentClass","AgentKeepAlive","HttpsAgent","keepAliveSettings"],"mappings":";;;;;QAWgBA,K,GAAAA,K;QAIAC,S,GAAAA,S;;AAbhB;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,iBAA+D,IAAnE;AACA,IAAIC,uBAAqE,IAAzE;;AAEA,+BAAgBC,oBAAhB;;AAEO,SAASJ,KAAT,CAAeK,mBAAf,EAAgD;AACrD,SAAOA,oBAAoBL,KAApB,CAA0B,KAAKM,OAAL,CAAaN,KAAvC,CAAP;AACD;;AAEM,SAASC,SAAT,CAAmBI,mBAAnB,EAAoD;AACzD,MAAIE,QAAQ,KAAKD,OAAL,CAAaE,MAAb,GAAsBL,oBAAtB,GAA6CD,cAAzD;AACA,MAAIK,UAAU,IAAd,EAAoB;AAClB,QAAIE,aAAa,KAAKH,OAAL,CAAaE,MAAb,GAAsBE,yBAAeC,UAArC,GAAkDD,wBAAnE;AACAH,YAAQ,IAAIE,UAAJ,CAAe,KAAKH,OAAL,CAAaM,iBAA5B,CAAR;AACA,QAAI,KAAKN,OAAL,CAAaE,MAAjB,EAAyB;AACvBL,6BAAuBI,KAAvB;AACD,KAFD,MAEO;AACLL,uBAAiBK,KAAjB;AACD;AACF;;AAED,SAAOF,oBAAoBE,KAApB,CAA0BA,KAA1B,CAAP;AACD","file":"node.js","sourcesContent":["/* @flow */\r\n\r\nimport superagent from 'superagent';\r\nimport superagentProxy from 'superagent-proxy';\r\nimport AgentKeepAlive from 'agentkeepalive';\r\n\r\nlet keepAliveAgent: (AgentKeepAlive | AgentKeepAlive.HttpsAgent) = null;\r\nlet keepAliveSecureAgent: (AgentKeepAlive | AgentKeepAlive.HttpsAgent) = null;\r\n\r\nsuperagentProxy(superagent);\r\n\r\nexport function proxy(superagentConstruct: superagent) {\r\n  return superagentConstruct.proxy(this._config.proxy);\r\n}\r\n\r\nexport function keepAlive(superagentConstruct: superagent) {\r\n  let agent = this._config.secure ? keepAliveSecureAgent : keepAliveAgent;\r\n  if (agent === null) {\r\n    let AgentClass = this._config.secure ? AgentKeepAlive.HttpsAgent : AgentKeepAlive;\r\n    agent = new AgentClass(this._config.keepAliveSettings);\r\n    if (this._config.secure) {\r\n      keepAliveSecureAgent = agent;\r\n    } else {\r\n      keepAliveAgent = agent;\r\n    }\r\n  }\r\n\r\n  return superagentConstruct.agent(agent);\r\n}\r\n"]}