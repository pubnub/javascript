{"version":3,"sources":["core/endpoints/objects/uuid/set.js"],"names":["endpoint","getOperation","operationConstants","PNSetUUIDMetadataOperation","validateParams","_","params","data","usePatch","patchURL","config","subscribeKey","uuid","getUUID","patchPayload","getRequestTimeout","getTransactionTimeout","isAuthSupported","getAuthToken","tokenManager","getToken","prepareParams","include","customFields","handleResponse","response","status"],"mappings":";;;;;;;;;AAGA;;AAgBA,IAAMA,QAAsE,GAAG;AAC7EC,EAAAA,YAAY,EAAE;AAAA,WAAMC,uBAAmBC,0BAAzB;AAAA,GAD+D;AAG7EC,EAAAA,cAAc,EAAE,wBAACC,CAAD,EAAIC,MAAJ,EAAe;AAC7B,QAAI,EAACA,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEC,IAAT,CAAJ,EAAmB;AACjB,aAAO,sBAAP;AACD;AACF,GAP4E;AAS7EC,EAAAA,QAAQ,EAAE;AAAA,WAAM,IAAN;AAAA,GATmE;AAW7EC,EAAAA,QAAQ,EAAE,wBAAaH,MAAb;AAAA;;AAAA,QAAGI,MAAH,QAAGA,MAAH;AAAA,iCAAuCA,MAAM,CAACC,YAA9C,oCAAoEL,MAApE,aAAoEA,MAApE,uBAAoEA,MAAM,CAAEM,IAA5E,uDAAoFF,MAAM,CAACG,OAAP,EAApF;AAAA,GAXmE;AAa7EC,EAAAA,YAAY,EAAE,sBAACT,CAAD,EAAIC,MAAJ;AAAA,WAAeA,MAAM,CAACC,IAAtB;AAAA,GAb+D;AAe7EQ,EAAAA,iBAAiB,EAAE;AAAA,QAAGL,MAAH,SAAGA,MAAH;AAAA,WAAgBA,MAAM,CAACM,qBAAP,EAAhB;AAAA,GAf0D;AAiB7EC,EAAAA,eAAe,EAAE;AAAA,WAAM,IAAN;AAAA,GAjB4D;AAmB7EC,EAAAA,YAAY,EAAE;AAAA,QAAGC,YAAH,SAAGA,YAAH;AAAA,WAAsBA,YAAY,CAACC,QAAb,CAAsB,MAAtB,CAAtB;AAAA,GAnB+D;AAqB7EC,EAAAA,aAAa,EAAE,8BAAaf,MAAb;AAAA;;AAAA,QAAGI,MAAH,SAAGA,MAAH;AAAA,WAAyB;AACtCE,MAAAA,IAAI,mBAAEN,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEM,IAAV,yDAAkBF,MAAM,CAACG,OAAP,EADgB;AAEtCS,MAAAA,OAAO,EAAE,0BAAChB,MAAD,aAACA,MAAD,0CAACA,MAAM,CAAEgB,OAAT,oDAAC,gBAAiBC,YAAlB,yEAAkC,IAAlC,KAA2C;AAFd,KAAzB;AAAA,GArB8D;AA0B7EC,EAAAA,cAAc,EAAE,wBAACnB,CAAD,EAAIoB,QAAJ;AAAA,WAAkB;AAChCC,MAAAA,MAAM,EAAED,QAAQ,CAACC,MADe;AAEhCnB,MAAAA,IAAI,EAAEkB,QAAQ,CAAClB;AAFiB,KAAlB;AAAA;AA1B6D,CAA/E;eAgCeP,Q","sourcesContent":["/** @flow */\n\nimport type { EndpointConfig } from '../../endpoint';\nimport operationConstants from '../../../constants/operations';\nimport type { UUIDMetadata } from './uuid';\n\nexport type SetUUIDMetadataParams = {|\n  uuid?: string,\n  include?: {|\n    customFields: ?boolean,\n  |},\n  data: $Shape<UUIDMetadata>,\n|};\n\nexport type SetUUIDMetadataResult = {|\n  status: 200,\n  data: UUIDMetadata,\n|};\n\nconst endpoint: EndpointConfig<SetUUIDMetadataParams, SetUUIDMetadataResult> = {\n  getOperation: () => operationConstants.PNSetUUIDMetadataOperation,\n\n  validateParams: (_, params) => {\n    if (!params?.data) {\n      return 'Data cannot be empty';\n    }\n  },\n\n  usePatch: () => true,\n\n  patchURL: ({ config }, params) => `/v2/objects/${config.subscribeKey}/uuids/${params?.uuid ?? config.getUUID()}`,\n\n  patchPayload: (_, params) => params.data,\n\n  getRequestTimeout: ({ config }) => config.getTransactionTimeout(),\n\n  isAuthSupported: () => true,\n\n  getAuthToken: ({ tokenManager }) => tokenManager.getToken('user'),\n\n  prepareParams: ({ config }, params) => ({\n    uuid: params?.uuid ?? config.getUUID(),\n    include: (params?.include?.customFields ?? true) && 'custom',\n  }),\n\n  handleResponse: (_, response) => ({\n    status: response.status,\n    data: response.data,\n  }),\n};\n\nexport default endpoint;\n"],"file":"set.js"}