{"version":3,"sources":["core/endpoints/actions/remove_message_action.js"],"names":["getOperation","operationConstants","PNRemoveMessageActionOperation","validateParams","incomingParams","config","channel","actionTimetoken","messageTimetoken","subscribeKey","useDelete","getURL","utils","encodeString","getRequestTimeout","getTransactionTimeout","isAuthSupported","prepareParams","handleResponse","modules","removeMessageActionResponse","data"],"mappings":";;;;;;;;;;;;;;;;AAEA;;AAKA;;AACA;;AAGO,SAASA,YAAT,GAAgC;AACrC,SAAOC,uBAAmBC,8BAA1B;AACD;;AAEM,SAASC,cAAT,OAELC,cAFK,EAGL;AAAA,MAFEC,MAEF,QAFEA,MAEF;AACA,MAAMC,OAAN,GAAqDF,cAArD,CAAME,OAAN;AAAA,MAAeC,eAAf,GAAqDH,cAArD,CAAeG,eAAf;AAAA,MAAgCC,gBAAhC,GAAqDJ,cAArD,CAAgCI,gBAAhC;AAEA,MAAI,CAACA,gBAAL,EAAuB,OAAO,2BAAP;AACvB,MAAI,CAACD,eAAL,EAAsB,OAAO,0BAAP;AACtB,MAAI,CAACF,MAAM,CAACI,YAAZ,EAA0B,OAAO,uBAAP;AAC1B,MAAI,CAACH,OAAL,EAAc,OAAO,yBAAP;AACf;;AAEM,SAASI,SAAT,GAAqB;AAC1B,SAAO,IAAP;AACD;;AAEM,SAASC,MAAT,QAELP,cAFK,EAGG;AAAA,MAFNC,MAEM,SAFNA,MAEM;AACR,MAAMC,OAAN,GAAqDF,cAArD,CAAME,OAAN;AAAA,MAAeC,eAAf,GAAqDH,cAArD,CAAeG,eAAf;AAAA,MAAgCC,gBAAhC,GAAqDJ,cAArD,CAAgCI,gBAAhC;AAEA,uCAA8BH,MAAM,CAACI,YAArC,sBAA6DG,kBAAMC,YAAN,CAAmBP,OAAnB,CAA7D,sBAAoGE,gBAApG,qBAA+HD,eAA/H;AACD;;AAEM,SAASO,iBAAT,QAAsD;AAAA,MAAzBT,MAAyB,SAAzBA,MAAyB;AAC3D,SAAOA,MAAM,CAACU,qBAAP,EAAP;AACD;;AAEM,SAASC,eAAT,GAA2B;AAChC,SAAO,IAAP;AACD;;AAEM,SAASC,aAAT,GAAiC;AACtC,SAAO,EAAP;AACD;;AAEM,SAASC,cAAT,CACLC,OADK,EAELC,2BAFK,EAGwB;AAC7B,SAAO;AAAEC,IAAAA,IAAI,EAAED,2BAA2B,CAACC;AAApC,GAAP;AACD","sourcesContent":["/* @flow */\n\nimport {\n  RemoveMessageActionInput,\n  RemoveMessageActionResponse,\n  ModulesInject,\n} from '../../flow_interfaces';\nimport operationConstants from '../../constants/operations';\nimport utils from '../../utils';\n\n\nexport function getOperation(): string {\n  return operationConstants.PNRemoveMessageActionOperation;\n}\n\nexport function validateParams(\n  { config }: ModulesInject,\n  incomingParams: RemoveMessageActionInput\n) {\n  let { channel, actionTimetoken, messageTimetoken } = incomingParams;\n\n  if (!messageTimetoken) return 'Missing message timetoken';\n  if (!actionTimetoken) return 'Missing action timetoken';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n  if (!channel) return 'Missing message channel';\n}\n\nexport function useDelete() {\n  return true;\n}\n\nexport function getURL(\n  { config }: ModulesInject,\n  incomingParams: RemoveMessageActionInput\n): string {\n  let { channel, actionTimetoken, messageTimetoken } = incomingParams;\n\n  return `/v1/message-actions/${config.subscribeKey}/channel/${utils.encodeString(channel)}/message/${messageTimetoken}/action/${actionTimetoken}`;\n}\n\nexport function getRequestTimeout({ config }: ModulesInject) {\n  return config.getTransactionTimeout();\n}\n\nexport function isAuthSupported() {\n  return true;\n}\n\nexport function prepareParams(): Object {\n  return {};\n}\n\nexport function handleResponse(\n  modules: ModulesInject,\n  removeMessageActionResponse: Object\n): RemoveMessageActionResponse {\n  return { data: removeMessageActionResponse.data };\n}\n"],"file":"remove_message_action.js"}