{"version":3,"sources":["core/components/requestController.js"],"names":["Signal","_events","aborted","name","listener","push","fireCallbacks","callback","forEach","RequestController","signal","emit"],"mappings":";;;;;;;;;;;;;IAAMA,M;AACJ,oBAAc;AAAA;AACZ,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,OAAL,GAAe,KAAf;AACD;;;;WAED,YAAGC,IAAH,EAASC,QAAT,EAAmB;AACjB,UAAI,CAAC,KAAKH,OAAL,CAAaE,IAAb,CAAL,EAAyB;AACvB,aAAKF,OAAL,CAAaE,IAAb,IAAqB,EAArB;AACD;;AACD,WAAKF,OAAL,CAAaE,IAAb,EAAmBE,IAAnB,CAAwBD,QAAxB;AACD;;;WAED,cAAKD,IAAL,EAAW;AACT,UAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD,EAAc;AAClCA,QAAAA,QAAQ;AACT,OAFD;;AAGA,WAAKN,OAAL,CAAaE,IAAb,EAAmBK,OAAnB,CAA2BF,aAA3B;AACD;;;;;IAEkBG,iB;AACnB,+BAAc;AAAA;AACZ,SAAKC,MAAL,GAAc,IAAIV,MAAJ,EAAd;AACD;;;;WAED,iBAAQ;AACN,UAAI,KAAKU,MAAL,CAAYR,OAAhB,EAAyB;AAEzB,WAAKQ,MAAL,CAAYR,OAAZ,GAAsB,IAAtB;AAEA,WAAKQ,MAAL,CAAYC,IAAZ,CAAiB,OAAjB;AACD","sourcesContent":["class Signal {\n  constructor() {\n    this._events = {};\n    this.aborted = false;\n  }\n\n  on(name, listener) {\n    if (!this._events[name]) {\n      this._events[name] = [];\n    }\n    this._events[name].push(listener);\n  }\n\n  emit(name) {\n    const fireCallbacks = (callback) => {\n      callback();\n    };\n    this._events[name].forEach(fireCallbacks);\n  }\n}\nexport default class RequestController {\n  constructor() {\n    this.signal = new Signal();\n  }\n\n  abort() {\n    if (this.signal.aborted) return;\n\n    this.signal.aborted = true;\n\n    this.signal.emit('abort');\n  }\n}\n"],"file":"requestController.js"}