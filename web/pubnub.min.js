// Version: 3.5.32
(function(){
function r(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function b(){try{return this.valueOf()}catch(a){return null}}function c(b){a.lastIndex=0;return a.test(b)?'"'+b.replace(a,function(a){var b=k[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(a,k){var p,w,l,h,m,A=e,g=k[a];g&&"object"===typeof g&&(g=b.call(g));"function"===typeof s&&(g=s.call(k,a,g));switch(typeof g){case "string":return c(g);case "number":return isFinite(g)?String(g):"null";
case "boolean":case "null":return String(g);case "object":if(!g)return"null";e+=x;m=[];if("[object Array]"===Object.prototype.toString.apply(g)){h=g.length;for(p=0;p<h;p+=1)m[p]=d(p,g)||"null";l=0===m.length?"[]":e?"[\n"+e+m.join(",\n"+e)+"\n"+A+"]":"["+m.join(",")+"]";e=A;return l}if(s&&"object"===typeof s)for(h=s.length,p=0;p<h;p+=1)w=s[p],"string"===typeof w&&(l=d(w,g))&&m.push(c(w)+(e?": ":":")+l);else for(w in g)Object.hasOwnProperty.call(g,w)&&(l=d(w,g))&&m.push(c(w)+(e?": ":":")+l);l=0===m.length?
"{}":e?"{\n"+e+m.join(",\n"+e)+"\n"+A+"}":"{"+m.join(",")+"}";e=A;return l}}window.JSON||(window.JSON={});var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,x,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var k;x=e="";if("number"===typeof c)for(k=0;k<c;k+=1)x+=" ";else"string"===typeof c&&(x=c);if((s=b)&&"function"!==
typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return d("",{"":a})});"function"!==typeof JSON.parse&&(JSON.parse=function(a){return eval("("+a+")")})}();var ca=1,y=!1,z=[],F="-pnpres",da=10,K=1E4,ea=310,fa=60,N=1E3,ga="/",ha="&",ia=/{([\w\-]+)}/g;function O(){return"x"+ ++ca+""+ +new Date}function R(){return+new Date}
var T=function(){var b=Math.floor(20*Math.random());return function(c,d){return 0<c.indexOf("pubsub.")&&c.replace("pubsub","ps"+(d?S().split("-")[0]:20>++b?b:b=1))||c}}();function V(b,c){var d=b.join(ga),a=[];if(!c)return d;W(c,function(b,c){a.push(b+"="+X(c))});return d+="?"+a.join(ha)}function ja(b,c){function d(){e+c>R()?(clearTimeout(a),a=setTimeout(d,c)):(e=R(),b())}var a,e=0;return d}function ka(b,c){var d=[];W(b||[],function(a){c(a)&&d.push(a)});return d}
function la(b,c){return b.replace(ia,function(b,a){return c[a]||b})}function S(b){var c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"==b?a:a&3|8).toString(16)});b&&b(c);return c}function W(b,c){if(b&&c)if("undefined"!=typeof b[0])for(var d=0,a=b.length;d<a;)c.call(b[d],b[d],d++);else for(d in b)b.hasOwnProperty&&b.hasOwnProperty(d)&&c.call(b[d],d,b[d])}function Y(b,c){var d=[];W(b||[],function(a,b){d.push(c(a,b))});return d}
function X(b){return Y(encodeURIComponent(b).split(""),function(b){return 0>"-_.!~*'()".indexOf(b)?b:"%"+b.charCodeAt(0).toString(16).toUpperCase()}).join("")}function Z(b){var c=[];W(b,function(b,a){a.j&&c.push(b)});return c.sort()}function $(){setTimeout(function(){y||(y=1,W(z,function(b){b()}))},N)}
function ma(b){function c(){}function d(a){a&&(t.h=0);!t.h&&t.length&&(t.h=1,G(t.shift()))}function a(a){var b=0;W(Z(H),function(f){if(f=H[f])b++,(a||r())(f)});return b}function e(){P()||k(1);setTimeout(e,N)}function x(){D.time(function(a){s(r(),a);a||k(1);setTimeout(x,p)})}function k(a){q&&q(a);q=null}function s(a,b){function f(b){b&&(B=R()-(b/1E4+(R()-c)/2),a&&a(B))}var c=R();b&&f(b)||D.time(f)}var Q=+b.windowing||da,U=(+b.timeout||ea)*N,p=(+b.keepalive||fa)*N,w=b.noleave||0,l=b.publish_key||"",
h=b.subscribe_key||"",m=b.auth_key||"",A=b.ssl?"s":"",g="http"+A+"://"+(b.origin||"pubsub.pubnub.com"),C=T(g),E=T(g),t=[],B=0,M=0,f=0,q=0,n=0,v=0,H={},G=b.xdr,u=b.error||r(),P=b._is_online||function(){return 1},L=b.jsonp_cb||function(){return 0},I=b.db||{get:r(),set:r()},J=b.uuid||I&&I.get(h+"uuid")||"",D={LEAVE:function(a,b){var f={uuid:J,auth:m},c=T(g),q=L();0<a.indexOf(F)||w||("0"!=q&&(f.callback=q),G({g:b||A,timeout:2E3,a:q,data:f,url:[c,"v2","presence","sub_key",h,"channel",X(a),"leave"]}))},
history:function(a,b){b=a.callback||b;var f=a.count||a.limit||100,c=a.reverse||"false",q=a.error||r(),n=a.channel,d=a.start,e=a.end,v={},g=L();if(!n)return u("Missing Channel");if(!b)return u("Missing Callback");if(!h)return u("Missing Subscribe Key");v.stringtoken="true";v.count=f;v.reverse=c;v.auth=m;g&&(v.callback=g);d&&(v.start=d);e&&(v.end=e);G({a:g,data:v,c:function(a){b(a)},b:q,url:[C,"v2","history","sub-key",h,"channel",X(n)]})},replay:function(a){var b=b||a.callback||r(),f=a.source,c=a.destination,
q=a.stop,n=a.start,d=a.end,v=a.reverse;a=a.limit;var e=L(),g={};if(!f)return u("Missing Source Channel");if(!c)return u("Missing Destination Channel");if(!l)return u("Missing Publish Key");if(!h)return u("Missing Subscribe Key");"0"!=e&&(g.callback=e);q&&(g.stop="all");v&&(g.reverse="true");n&&(g.start=n);d&&(g.end=d);a&&(g.count=a);g.auth=m;G({a:e,c:function(a){b(a)},b:function(){b([0,"Disconnected"])},url:[C,"v1","replay",l,h,f,c],data:g})},auth:function(a){m=a;c()},time:function(a){var b=L();G({a:b,
data:{uuid:J,auth:m},timeout:5*N,url:[C,"time",b],c:function(b){a(b[0])},b:function(){a(0)}})},publish:function(a,b){b=b||a.callback||r();var f=a.message,c=a.channel,q=L();if(!f)return u("Missing Message");if(!c)return u("Missing Channel");if(!l)return u("Missing Publish Key");if(!h)return u("Missing Subscribe Key");f=JSON.stringify(f);c=[C,"publish",l,h,0,X(c),q,X(f)];t.push({a:q,timeout:5*N,url:c,data:{uuid:J,auth:m},c:function(a){b(a);d(1)},b:function(){b([0,"Failed",f]);d(1)}});d()},unsubscribe:function(a){a=
a.channel;v=0;n=1;a=Y((a.join?a.join(","):""+a).split(","),function(a){return a+","+a+F}).join(",");W(a.split(","),function(a){y&&D.LEAVE(a,0);H[a]=0});c()},subscribe:function(b,d){function e(b){b?setTimeout(c,N):(C=T(g,1),E=T(g,1),setTimeout(function(){D.time(e)},N));a(function(a){if(b&&a.d)return a.d=0,a.l(a.name);b||a.d||(a.d=1,a.disconnect(a.name))})}function p(){var b=L(),d=Z(H).join(",");d&&(k(),q=G({timeout:na,a:b,b:function(){q=null;D.time(e)},data:{uuid:J,auth:m},url:[E,"subscribe",h,X(d),
b,v],c:function(b){q=null;if(!b||"object"==typeof b&&"error"in b&&b.error)return t(b),setTimeout(c,N);A(b[1]);v=!v&&n&&I.get(h)||b[1];a(function(a){a.f||(a.f=1,a.k(a.name))});aa&&(v=1E4,aa=0);I.set(h,b[1]);var d=function(){var a=(2<b.length?b[2]:Y(H,function(a){return Y(Array(b[0].length).join(",").split(","),function(){return a})}).join(",")).split(",");return function(){var b=a.shift()||f;return[(H[b]||{}).a||M,b.split(F)[0]]}}(),e=R()-B-+b[1]/1E4;W(b[0],function(a){var f=d();f[0](a,b,f[1],e)});
setTimeout(p,ba)}}))}var l=b.channel;d=(d=d||b.callback)||b.message;var s=b.connect||r(),x=b.reconnect||r(),w=b.disconnect||r(),t=b.error||r(),A=b.idle||r(),P=b.presence||0,oa=b.noheresync||0,aa=b.backfill||0,pa=b.timetoken||0,na=b.timeout||U,ba=b.windowing||Q;n=b.restore;v=pa;if(!l)return u("Missing Channel");if(!d)return u("Missing Callback");if(!h)return u("Missing Subscribe Key");W((l.join?l.join(","):""+l).split(","),function(a){var b=H[a]||{};H[f=a]={name:a,f:b.f,d:b.d,j:1,a:M=d,k:s,disconnect:w,
l:x};P&&(D.subscribe({channel:a+F,callback:P}),b.j||oa||D.here_now({channel:a,callback:function(b){W("uuids"in b?b.uuids:[],function(f){P({action:"join",uuid:f,timestamp:R(),occupancy:b.occupancy||1},b,a)})}}))});c=function(){k();setTimeout(p,ba)};if(!y)return z.push(c);c()},here_now:function(a,b){b=a.callback||b;var f=a.error||r(),c=a.channel,q=L(),d={uuid:J,auth:m};if(!c)return u("Missing Channel");if(!b)return u("Missing Callback");if(!h)return u("Missing Subscribe Key");"0"!=q&&(d.callback=q);
G({a:q,data:d,c:function(a){b(a,c)},b:f,url:[C,"v2","presence","sub_key",h,"channel",X(c)]})},xdr:G,ready:$,db:I,uuid:S,map:Y,each:W,"each-channel":a,grep:ka,offline:function(){k(1)},supplant:la,now:R,unique:O,updater:ja};J||(J=D.uuid());I.set(h+"uuid",J);setTimeout(e,N);setTimeout(x,p);s();return D}
window.PUBNUB||function(){function b(f){f.jsonp&&(g=0);var q=f.subscribe_key||"";f.uuid||C.get(q+"uuid");f.xdr=p;f.db=C;f.error=d;f._is_online=l;f.jsonp_cb=U;var n=ma(f);n.css=s;n.$=c;n.create=Q;n.bind=e;n.head=x;n.search=a;n.attr=k;n.events=E;n.init=b;e("beforeunload",window,function(){n["each-channel"](function(a){n.LEAVE(a.name,0)});return!0});if(f.notest)return n;e("offline",window,n.offline);e("offline",document,n.offline);return n}function c(a){return document.getElementById(a)}function d(a){console.error(a)}
function a(a,b){var c=[];W(a.split(/\s+/),function(a){W((b||document).getElementsByTagName(a),function(a){c.push(a)})});return c}function e(a,b,c){W(a.split(","),function(a){function f(a){a||(a=window.event);c(a)||(a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation())}b.addEventListener?b.addEventListener(a,f,!1):b.attachEvent?b.attachEvent("on"+a,f):b["on"+a]=f})}function x(){return a("head")[0]}function k(a,b,c){if(c)a.setAttribute(b,c);
else return a&&a.getAttribute&&a.getAttribute(b)}function s(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+(0<"|width|height|top|left|".indexOf(c)&&"number"==typeof b[c]?"px":"")}catch(d){}}function Q(a){return document.createElement(a)}function U(){return g||h()?0:O()}function p(a){function b(a,f){l||(l=1,d.onerror=null,clearTimeout(u),a||!f||I(f),setTimeout(function(){a&&s();var b=c(p),f=b&&b.parentNode;f&&f.removeChild(b)},N))}if(g||h())return w(a);var d=Q("script"),e=a.a,p=O(),
l=0,u=setTimeout(function(){b(1)},a.timeout||K),s=a.b||r(),t=a.data||{},I=a.c||r();window[e]=function(a){b(0,a)};a.g||(d[m]=m);d.onerror=function(){b(1)};t.pnsdk=A;d.src=V(a.url,t);k(d,"id",p);x().appendChild(d);return b}function w(a){function b(a){k||(k=1,clearTimeout(s),d&&(d.onerror=d.onload=null,d.abort&&d.abort(),d=null),a&&t())}function c(){if(!l){l=1;clearTimeout(s);try{e=JSON.parse(d.responseText)}catch(a){return b(1)}k=1;w(e)}}var d,e,k=0,l=0,m=a.timeout||K,s=setTimeout(function(){b(1)},
m),t=a.b||r(),x=a.data||{},w=a.c||r(),B="undefined"===typeof a.g;try{d=h()||window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest;d.onerror=d.onabort=function(){b(1)};d.onload=d.onloadend=c;B&&(d.timeout=m);x.pnsdk=A;var C=V(a.url,x);d.open("GET",C,B);d.send()}catch(E){return b(0),g=0,p(a)}return b}function l(){return"onLine"in navigator?navigator.onLine:1}function h(){if(!M||!M.get)return 0;var a={id:h.id++,send:r(),abort:function(){a.id={}},open:function(b,c){h[a.id]=a;M.get(a.id,c)}};return a}
var m="async",A="PubNub-JS-Web/3.5.32",g=-1==navigator.userAgent.indexOf("MSIE 6");window.console||(window.console=window.console||{});console.log||(console.log=console.error=(window.opera||{}).postError||r());var C=function(){var a=window.localStorage;return{get:function(b){try{return a?a.getItem(b):-1==document.cookie.indexOf(b)?null:((document.cookie||"").match(RegExp(b+"=([^;]+)"))||[])[1]||null}catch(c){}},set:function(b,c){try{if(a)return a.setItem(b,c)&&0;document.cookie=b+"="+c+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(d){}}}}(),
E={list:{},unbind:function(a){E.list[a]=[]},bind:function(a,b){(E.list[a]=E.list[a]||[]).push(b)},fire:function(a,b){W(E.list[a]||[],function(a){a(b)})}},t=c("pubnub")||0;"complete"===document.readyState?$():e("load",window,function(){setTimeout($,0)});var B=t||{};PUBNUB=b({notest:1,publish_key:k(B,"pub-key"),subscribe_key:k(B,"sub-key"),ssl:!document.location.href.indexOf("https")||"on"==k(B,"ssl"),origin:k(B,"origin"),uuid:k(B,"uuid")});window.jQuery&&(window.jQuery.PUBNUB=PUBNUB);"undefined"!==
typeof module&&(module.exports=PUBNUB)&&$();var M=c("pubnubs")||0;if(t){s(t,{position:"absolute",top:-N});if("opera"in window||k(t,"flash"))t.innerHTML="<object id=pubnubs data=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=movie value=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=allowscriptaccess value=always></object>";PUBNUB.rdx=function(a,b){if(!b)return h[a].onerror();h[a].responseText=unescape(b);h[a].onload()};h.id=N}}();
(function(){var b=PUBNUB.ws=function(c,d){if(!(this instanceof b))return new b(c,d);var a=this;c=a.url=c||"";a.protocol=d||"Sec-WebSocket-Protocol";var e=c.split("/"),e={ssl:"wss:"===e[0],origin:e[2],publish_key:e[3],subscribe_key:e[4],channel:e[5]};a.CONNECTING=0;a.OPEN=1;a.CLOSING=2;a.CLOSED=3;a.CLOSE_NORMAL=1E3;a.CLOSE_GOING_AWAY=1001;a.CLOSE_PROTOCOL_ERROR=1002;a.CLOSE_UNSUPPORTED=1003;a.CLOSE_TOO_LARGE=1004;a.CLOSE_NO_STATUS=1005;a.CLOSE_ABNORMAL=1006;a.onclose=a.onerror=a.onmessage=a.onopen=
a.onsend=r();a.binaryType="";a.extensions="";a.bufferedAmount=0;a.trasnmitting=!1;a.buffer=[];a.readyState=a.CONNECTING;if(!c)return a.readyState=a.CLOSED,a.onclose({code:a.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:!0}),a;a.e=PUBNUB.init(e);a.e.i=e;a.i=e;a.e.subscribe({restore:!1,channel:e.channel,disconnect:a.onerror,reconnect:a.onopen,error:function(){a.onclose({code:a.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:!1})},callback:function(b){a.onmessage({data:b})},connect:function(){a.readyState=
a.OPEN;a.onopen()}})};b.prototype.send=function(b){var d=this;d.e.publish({channel:d.e.i.channel,message:b,callback:function(a){d.onsend({data:a})}})}})();
})();
